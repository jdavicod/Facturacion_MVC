@model Facturacion_MVC.Models.Tblproducto

@{
    ViewData["Title"] = "Nuevo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4 text-white">
    <h2 class="fw-bold mb-4">Editar Producto</h2>

    <form asp-action="Editar" method="post" class="shadow p-4 rounded bg-dark">
        <input type="hidden" asp-for="IdProducto" />

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="StrNombre" class="form-label"></label>
                <input asp-for="StrNombre" class="form-control" />
                <span asp-validation-for="StrNombre" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="StrCodigo" class="form-label"></label>
                <input asp-for="StrCodigo" class="form-control" />
                <span asp-validation-for="StrCodigo" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="NumStock" class="form-label"></label>
                <input asp-for="NumStock" class="form-control" />
                <span asp-validation-for="NumStock" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="IdCategoria" class="form-label"></label>
                @Html.DropDownList("IdCategoria", null, "Seleccione una categoría", new { @class = "form-select" })
                <span asp-validation-for="IdCategoria" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="NumPrecioCompra" class="form-label"></label>
                <input asp-for="NumPrecioCompra" class="form-control" />
                <span asp-validation-for="NumPrecioCompra" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="NumPrecioVenta" class="form-label"></label>
                <input asp-for="NumPrecioVenta" class="form-control" />
                <span asp-validation-for="NumPrecioVenta" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="StrDetalle" class="form-label"></label>
                <input asp-for="StrDetalle" class="form-control" />
                <span asp-validation-for="StrDetalle" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="StrFoto" class="form-label"></label>
                <input asp-for="StrFoto" class="form-control" />
                <span asp-validation-for="StrFoto" class="text-danger"></span>
            </div>
        </div>

        <div class="text-end">
            <button type="submit" class="btn btn-primary">Guardar</button>
            <a asp-action="Index" class="btn btn-secondary">Volver</a>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}








@* @model Facturacion_MVC.Models.Tblproducto
@{
    ViewData["Title"] = "Editar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="well">Editar Producto</h2>

@using (Html.BeginForm("Editar", "TBLProductos", FormMethod.Post))
{
    @Html.HiddenFor(d =>d.IdProducto)
    
    
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger mb-2" })

    <div class="mb-3">
        @Html.LabelFor(d => d.StrNombre)
        @Html.TextBoxFor(d => d.StrNombre, new { @class = "form-control", required = "required" })
        @Html.ValidationMessageFor(d => d.StrNombre, "", new { @class = "text-danger" })
    </div>

    <div class="mb-3">
        @Html.LabelFor(d => d.StrCodigo)
        @Html.TextBoxFor(d => d.StrCodigo, new { @class = "form-control", required = "required" })
        @Html.ValidationMessageFor(d => d.StrCodigo, "", new { @class = "text-danger" })
    </div>


    <div class="mb-3">
        Categoria: @Html.DropDownList("IdCategoria")
    </div>

    <div class="mb-3">
        @Html.LabelFor(d => d.NumPrecioVenta)
        @Html.TextBoxFor(d => d.NumPrecioVenta, new { @class = "form-control", type = "number", step = "0.01", required = "required" })
        @Html.ValidationMessageFor(d => d.NumPrecioVenta, "", new { @class = "text-danger" })
    </div>

    <div class="mb-3">
        @Html.LabelFor(d => d.NumStock)
        @Html.TextBoxFor(d => d.NumStock, new { @class = "form-control", type = "number", min = "0" })
        @Html.ValidationMessageFor(d => d.NumStock, "", new { @class = "text-danger" })
    </div>

    <!-- Mostrar errores del servidor si existen (útil para depuración) -->
    @if (ViewBag.ModelErrors != null)
    {
        <div class="alert alert-danger">
            <ul>
                @foreach (var me in (IEnumerable<dynamic>)ViewBag.ModelErrors)
                {
                    <li>
                        <strong>@me.Key:</strong>
                        <ul>
                            @foreach (var err in me.Errors)
                            {
                                <li>@err</li>
                            }
                        </ul>
                    </li>
                }
            </ul>
        </div>
    }

    <button type="submit" class="btn btn-success">Guardar</button>
    <a class="btn btn-primary" href="@Url.Action("Index", "TBLProductos")">Retornar</a>
}

 *@